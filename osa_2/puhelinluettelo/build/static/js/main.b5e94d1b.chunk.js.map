{"version":3,"sources":["components/RemovePerson.js","components/Person.js","components/Persons.js","components/Filter.js","components/AddForm.js","services/persons.js","components/Notification.js","components/ErrorMsg.js","components/Header.js","components/Footer.js","App.js","index.js"],"names":["RemovePerson","_ref","id","name","removePerson","react_default","a","createElement","onClick","Person","number","className","components_RemovePerson","Persons","persons","changeNumber","map","person","components_Person","key","Filter","newFilter","handleFilter","value","onChange","AddForm","addPerson","newName","newNumber","nameChange","numberChange","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","Notification","notificationMessage","ErrorMsg","errorMessage","Header","headerName","style","color","fontSize","Footer","footerName","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","filteredList","setFilteredList","_useState11","_useState12","setErrorMessage","_useState13","_useState14","setNotificationMessage","useEffect","personService","initialPersons","components_Header","components_ErrorMsg","components_Notification","components_Filter","event","target","filter","toLowerCase","includes","components_Footer","components_AddForm","preventDefault","window","confirm","updatePerson","setTimeout","catch","error","returnedPerson","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b5e94d1b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst RemovePerson = ({ id, name, removePerson }) => {\n  return <button onClick={() => removePerson({ id, name })}>poista</button>\n}\n\nexport default RemovePerson;","import React from 'react';\nimport RemovePerson from './RemovePerson';\n\nconst Person = ({ id, name, number, removePerson }) =>\n  <div>\n    <li className='person'>\n      {name}\n      {number}\n      <RemovePerson id={id} name={name} removePerson={removePerson} />\n    </li>\n  </div>\n\nexport default Person;","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons, removePerson, changeNumber }) => {\n  return (\n    <div>\n      {persons.map(person =>\n        <Person\n          key={person.id}\n          id={person.id}\n          name={person.name}\n          number={person.number}\n          removePerson={removePerson}\n          changeNumber={changeNumber}\n        />)}\n    </div>\n  )\n};\n\nexport default Persons;","import React from \"react\";\n\nconst Filter = ({ newFilter, handleFilter }) => (\n  <p>\n    rajaa näytettäviä<input value={newFilter} onChange={handleFilter} />\n  </p>\n);\n\nexport default Filter;","import React from 'react';\n\nconst AddForm = ({\n  addPerson,\n  newName,\n  newNumber,\n  nameChange,\n  numberChange }) => (\n\n    <form onSubmit={addPerson} name={newName}>\n      <div>\n        nimi: <input value={newName} onChange={nameChange} />\n      </div>\n      <div>\n        numero: <input value={newNumber} onChange={numberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  );\n\nexport default AddForm;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n// for debug use, testing just frontend against Atlas mongoDb\n// const baseUrl = 'https://fathomless-caverns-52918.herokuapp.com/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({ notificationMessage }) => {\n  if (notificationMessage === null) {\n    return null\n  }\n  return (\n    <div className='notification'>\n      {notificationMessage}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorMsg = ({ errorMessage }) => {\n  if (errorMessage === null) {\n    return null\n  }\n  return (\n    <div className='error'>\n      {errorMessage}\n    </div>\n  )\n}\n\nexport default ErrorMsg;","import React from 'react';\n\nconst Header = ({ headerName }) => {\n  const headerStyle = {\n    color: 'black',\n    fontSize: 32\n  }\n\n  return (\n    <div style={headerStyle}>\n      <br />\n      {headerName}\n    </div>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nconst Footer = ({ footerName }) => {\n  const footerStyle = {\n    color: 'black',\n    fontSize: 24\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      {footerName}\n    </div>\n  )\n}\n\nexport default Footer;","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons';\nimport Filter from './components/Filter';\nimport AddForm from './components/AddForm';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport ErrorMsg from './components/ErrorMsg';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [filteredList, setFilteredList] = useState(persons);\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n        setFilteredList(initialPersons);\n      });\n  }, []);\n\n  // for debug use\n  // useEffect(() => {\n  //   console.log('', persons);\n  // }, [persons])\n\n  const nameChange = event => { setNewName(event.target.value) };\n  const numberChange = event => { setNewNumber(event.target.value) };\n\n  const handleFilter = event => {\n    setNewFilter(event.target.value);\n    setFilteredList(\n      persons.filter(person => person.name.toLowerCase().includes(event.target.value.toLowerCase())\n      )\n    );\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const name = newName;\n    const number = newNumber;\n\n    if (persons.map(person => person.name).includes(name)) {\n      if (window.confirm(`${name} on jo luettelossa, korvataanko nykyinen numero uudella?`)) {\n        const id = persons.filter(person => person.name === name)[0].id;\n        const personObject = {\n          id: id,\n          name: name,\n          number: number\n        };\n        personService\n          .update(id, personObject)\n          .then(updatePerson => {\n            setPersons(persons.map(person => person.id !== id ? person : updatePerson));\n            setFilteredList(persons.map(person => person.id !== id ? person : updatePerson));\n            setNewFilter('');\n            setNotificationMessage(`Muutettiin henkilön ${name} puh. numero`)\n            setTimeout(() => { setNotificationMessage(null) }, 4000);\n          })\n          .catch(error => {\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => { setErrorMessage(null) }, 4000);\n          });\n      }\n      setNewName('');\n      setNewNumber('');\n    } else {\n      const personObject = { name, number };\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setFilteredList(persons.concat(returnedPerson));\n          setPersons(persons.concat(returnedPerson));\n          // console.log('-->', filteredList)\n          setNotificationMessage(`Lisättiin henkilön ${name} puhelinnumero`)\n          setTimeout(() => { setNotificationMessage(null) }, 4000)\n        }).catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => { setErrorMessage(null) }, 4000);\n        })\n      setNewName('')\n      setNewNumber('')\n    }\n  };\n\n  const removePerson = ({ id, name }) => {\n    if (window.confirm(`Poistetaanko ${name} luettelosta`)) {\n      personService\n        .remove(id)\n        .then(response => {\n          setNotificationMessage(`${name} poistettiin luettelosta`)\n          setTimeout(() => { setNotificationMessage(null) }, 4000);\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => { setErrorMessage(null) }, 4000);\n        })\n      setFilteredList(filteredList.filter(person => person.id !== id))\n      setPersons(persons.filter(person => person.id !== id));\n    }\n  };\n\n\n  return (\n    <div className='body'>\n      <Header headerName='Puhelinluettelo' />\n      <ErrorMsg errorMessage={errorMessage} />\n      <Notification notificationMessage={notificationMessage} />\n      <Filter newFilter={newFilter} handleFilter={handleFilter} />\n      <Footer footerName='Lisää nimiä luetteloon' />\n      <AddForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        nameChange={nameChange}\n        numberChange={numberChange}\n      />\n      <Footer footerName='Numerot' />\n      <Persons persons={filteredList} removePerson={removePerson} />\n    </div>\n  )\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}