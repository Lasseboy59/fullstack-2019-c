(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(11),o=t.n(u),c=t(2),i=function(e){var n=e.id,t=e.name,a=e.removePerson;return r.a.createElement("button",{onClick:function(){return a({id:n,name:t})}},"poista")},l=function(e){var n=e.id,t=e.name,a=e.number,u=e.removePerson;return r.a.createElement("div",null,r.a.createElement("li",{className:"person"},t,a,r.a.createElement(i,{id:n,name:t,removePerson:u})))},m=function(e){var n=e.persons,t=e.removePerson,a=e.changeNumber;return r.a.createElement("div",null,n.map(function(e){return r.a.createElement(l,{key:e.id,id:e.id,name:e.name,number:e.number,removePerson:t,changeNumber:a})}))},s=function(e){var n=e.newFilter,t=e.handleFilter;return r.a.createElement("p",null,"rajaa n\xe4ytett\xe4vi\xe4",r.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.addPerson,t=e.newName,a=e.newNumber,u=e.nameChange,o=e.numberChange;return r.a.createElement("form",{onSubmit:n,name:t},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:t,onChange:u})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:a,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},d=t(3),v=t.n(d),b="/api/persons",E=function(){return v.a.get(b).then(function(e){return e.data})},h=function(e){return v.a.post(b,e).then(function(e){return e.data})},p=function(e){return v.a.delete("".concat(b,"/").concat(e)).then(function(e){return e.data})},g=function(e,n){return v.a.put("".concat(b,"/").concat(e),n).then(function(e){return e.data})},w=function(e){var n=e.notificationMessage;return null===n?null:r.a.createElement("div",{className:"notification"},n)},j=function(e){var n=e.errorMessage;return null===n?null:r.a.createElement("div",{className:"error"},n)},N=function(e){var n=e.headerName;return r.a.createElement("div",{style:{color:"black",fontSize:32}},r.a.createElement("br",null),n)},O=function(e){var n=e.footerName;return r.a.createElement("div",{style:{color:"black",fontSize:24}},r.a.createElement("br",null),n)},k=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],o=Object(a.useState)(""),i=Object(c.a)(o,2),l=i[0],d=i[1],v=Object(a.useState)(""),b=Object(c.a)(v,2),k=b[0],C=b[1],P=Object(a.useState)(""),S=Object(c.a)(P,2),y=S[0],T=S[1],M=Object(a.useState)(t),F=Object(c.a)(M,2),L=F[0],z=F[1],J=Object(a.useState)(null),x=Object(c.a)(J,2),B=x[0],D=x[1],I=Object(a.useState)(null),q=Object(c.a)(I,2),A=q[0],G=q[1];Object(a.useEffect)(function(){E().then(function(e){u(e),z(e)})},[]);return r.a.createElement("div",{className:"body"},r.a.createElement(N,{headerName:"Puhelinluettelo"}),r.a.createElement(j,{errorMessage:B}),r.a.createElement(w,{notificationMessage:A}),r.a.createElement(s,{newFilter:y,handleFilter:function(e){T(e.target.value),z(t.filter(function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}))}}),r.a.createElement(O,{footerName:"Lis\xe4\xe4 nimi\xe4 luetteloon"}),r.a.createElement(f,{addPerson:function(e){e.preventDefault();var n=l,a=k;if(t.map(function(e){return e.name}).includes(n)){if(window.confirm("".concat(n," on jo luettelossa, korvataanko nykyinen numero uudella?"))){var r=t.filter(function(e){return e.name===n})[0].id;g(r,{id:r,name:n,number:a}).then(function(e){u(t.map(function(n){return n.id!==r?n:e})),z(t.map(function(n){return n.id!==r?n:e})),T(""),G("Muutettiin henkil\xf6n ".concat(n," puh. numero")),setTimeout(function(){G(null)},4e3)}).catch(function(e){D(e.response.data.error),setTimeout(function(){D(null)},4e3)})}d(""),C("")}else h({name:n,number:a}).then(function(e){z(t.concat(e)),u(t.concat(e)),G("Lis\xe4ttiin henkil\xf6n ".concat(n," puhelinnumero")),setTimeout(function(){G(null)},4e3)}).catch(function(e){D(e.response.data.error),setTimeout(function(){D(null)},4e3)}),d(""),C("")},newName:l,newNumber:k,nameChange:function(e){d(e.target.value)},numberChange:function(e){C(e.target.value)}}),r.a.createElement(O,{footerName:"Numerot"}),r.a.createElement(m,{persons:L,removePerson:function(e){var n=e.id,a=e.name;window.confirm("Poistetaanko ".concat(a," luettelosta"))&&(p(n).then(function(e){G("".concat(a," poistettiin luettelosta")),setTimeout(function(){G(null)},4e3)}).catch(function(e){D(e.response.data.error),setTimeout(function(){D(null)},4e3)}),z(L.filter(function(e){return e.id!==n})),u(t.filter(function(e){return e.id!==n})))}}))};t(37);o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.b5e94d1b.chunk.js.map